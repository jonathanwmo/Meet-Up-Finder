{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}

{% load socialaccount %}
    <div class="container">
        <h1>{{ event.name | title }}</h1>
        <h5>Details </h5>
            <p>{{ event.description | capfirst }}</p>
        <h5>Event Date </h5>
            <p>{{ event.event_date | title }}</p>
        <h5>Author </h5>
            <p>{{ event.author | title }}</p>
        <h5>Publish Date </h5>
            <p>{{ event.pub_date | title }}</p>
        <h5>Event Location </h5>
            <p>{{ event.get_location | title }}</p>
        <h5>Tags </h5>
            <p>
                {% if event.tags %}
                    {{ event.tags }}
                {% else %}
                    No tags.
                {% endif %}
            </p>

        <h5>Invites</h5>
            {% if event.invitees.all %}
                {% for u in event.invitees.all %}
                    <p> {{u}} </p>
                {% endfor %}
            {% else %}
                <p> Open To All</p>
            {% endif %}

        <h5>Leave a comment: </h5>
            <form method="post">
                {% csrf_token %}
                <div class="form-group">
                    <label for="name">Comment Title: </label>
                    <input type="text" name="name" class="form-control" placeholder="Comment Title" style="width: 50%">
                </div>
                <div class="form-group">
                    <label for="description">Comment Description: </label>
                    <input type="text" name="description" class="form-control" placeholder="Comment Description" style="width: 50%;">
                </div>
                <input type="submit" class="btn btn-primary" value="Submit" margin-top="15px">
            </form>

        {% if comments %}
            <br>
            <h5>Current Comments: </h5>
                {% for comment in comments %}
                    <ul>
                        <li>{{ comment.name | title }} -- {{ comment.author | capfirst }} on {{ comment.pub_date }}</li>
                        <p>&nbsp; &nbsp; &nbsp; &nbsp; {{ comment.description }}</p>
                    </ul>
                {% endfor %}
        {% else %}
            <br>
            <p>Be the first to comment!</p>
        {% endif %}
    </div>
{% endblock %}
