{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% load social_share %}

<link rel="stylesheet" href="{% static 'events/font-awesome-4.7.0/css/font-awesome.min.css' %}">


{% block content %}

{% load socialaccount %}
    <div class="container">
        {% if event.email == request.user.email %}
            <a href="{% url 'events:edit_event' event.id %}" class="btn btn-primary btn-small active" role="button" aria-pressed="true">Edit {{event.name | title}} Event</a>
        {% endif %}
        <h1>{{ event.name | title }}</h1>
        <h5>Details </h5>
            <p>{{ event.description | capfirst }}</p>
        <h5>Event Date </h5>
            <p>{{ event.event_date | title }}</p>

        <h5>Publish Date </h5>
            <p>{{ event.pub_date | title }}</p>
        <h5>Event Location </h5>
            <p>{{ event.get_location | title }}</p>
        <h5>Tags </h5>
            <p>
                {% if event.tags %}
                    {{ event.tags }}
                {% else %}
                    No tags.
                {% endif %}
            </p>
        <h5>Author </h5>
            <p>{{ event.author | title }}</p>
        <h5>Contact </h5>
            <p><a href="mailto:{{ event.email }}">{{ event.email }}</a></p>

        <h5>Invites</h5>
            {% if event.invitees.all %}
                {% for u in event.invitees.all %}
                    <p> {{u}} </p>
                {% endfor %}
            {% else %}
                <p> Open To All</p>
            {% endif %}

        <h5>Share</h5>
            <ul class="fa-ul">
                <li><i class="fa-li fa fa-facebook"></i>{% post_to_facebook object_or_url 'Facebook' %}</li>
                <li><i class="fa-li fa fa-twitter"></i>{% post_to_twitter "Check out {{ event.name | title }} at" object_or_url "Twitter" %}</li>
                <li><i class="fa-li fa fa-linkedin"></i>{% post_to_linkedin "Check out {{ event.name | title }}" object_or_url "LinkedIn" %}</li>
                <li><i class="fa-li fa fa-envelope"></i>{% send_email "Check out {{ event.name | title }}" "Event is available at:" object_or_url "Email Invite" %}</li>
                <li><i class="fa-li fa fa-reddit"></i>{% post_to_reddit "Check out {{ event.name | title }}" object_or_url "Reddit" %}</li>
            </ul>

        <h5>Leave a comment: </h5>
            <form method="post">
                {% csrf_token %}
                <div class="form-group">
                    <label for="name">Comment Title: </label>
                    <input type="text" name="name" class="form-control" placeholder="Comment Title" style="width: 50%">
                </div>
                <div class="form-group">
                    <label for="description">Comment Description: </label>
                    <input type="text" name="description" class="form-control" placeholder="Comment Description" style="width: 50%;">
                </div>
                <input type="submit" class="btn btn-primary btn-sm" value="Submit Comment" margin-top="15px">
            </form>


        {% if comments %}
            <br>
            <h5>Current Comments: </h5>
                {% for comment in comments %}
                    <ul>
                        <li>{{ comment.name | title }} -- {{ comment.author | capfirst }} on {{ comment.pub_date }}</li>
                        <p>&nbsp; &nbsp; &nbsp; &nbsp; {{ comment.description }}</p>
                    </ul>
                {% endfor %}
        {% else %}
            <br>
            <p>Be the first to comment!</p>
        {% endif %}
    </div>
{% endblock %}
